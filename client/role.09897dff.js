import{S as s,i as a,s as e,q as t,r,v as c,x as l,y as o,z as n,E as i,e as d,t as m,V as u,f,F as v,c as p,b as h,d as g,u as $,j as E,k as b,A as I,a1 as k,H as w,I as P,O as U,a2 as x,U as y,G as z,ad as M,aa as O,ae as S,ab as T}from"./client.7f1c3f97.js";function N(s){let a,e;return a=new y({props:{type:"error",title:"Error",messages:[s[0].message],rootClass:"absolute top-0"}}),{c(){t(a.$$.fragment)},l(s){r(a.$$.fragment,s)},m(s,t){c(a,s,t),e=!0},p(s,e){const t={};1&e&&(t.messages=[s[0].message]),a.$set(t)},i(s){e||(l(a.$$.fragment,s),e=!0)},o(s){o(a.$$.fragment,s),e=!1},d(s){n(a,s)}}}function V(s){let a,e,t,r,c,n,U,x,y,M,O,S,T,V=s[0]&&N(s);return{c(){a=i(),V&&V.c(),e=i(),t=d("div"),r=d("form"),c=d("div"),n=d("button"),U=m("I am a Patient"),x=i(),y=d("button"),M=m("I am a Medical Service Provider"),this.h()},l(s){u('[data-svelte="svelte-vw7w1k"]',document.head).forEach(f),a=v(s),V&&V.l(s),e=v(s),t=p(s,"DIV",{class:!0});var l=h(t);r=p(l,"FORM",{});var o=h(r);c=p(o,"DIV",{class:!0});var i=h(c);n=p(i,"BUTTON",{class:!0});var d=h(n);U=g(d,"I am a Patient"),d.forEach(f),x=v(i),y=p(i,"BUTTON",{class:!0});var m=h(y);M=g(m,"I am a Medical Service Provider"),m.forEach(f),i.forEach(f),o.forEach(f),l.forEach(f),this.h()},h(){document.title="Sign Up - UMedmarket",$(n,"class","svelte-11rzs0d"),$(y,"class","svelte-11rzs0d"),$(c,"class","flex"),$(t,"class","signup-content relative svelte-11rzs0d")},m(l,o){E(l,a,o),V&&V.m(l,o),E(l,e,o),E(l,t,o),b(t,r),b(r,c),b(c,n),b(n,U),b(c,x),b(c,y),b(y,M),O=!0,S||(T=[I(n,"click",s[1]("patient")),I(y,"click",s[1]("provider")),I(r,"submit",k(s[2]))],S=!0)},p(s,[a]){s[0]?V?(V.p(s,a),1&a&&l(V,1)):(V=N(s),V.c(),l(V,1),V.m(e.parentNode,e)):V&&(z(),o(V,1,1,(()=>{V=null})),w())},i(s){O||(l(V),O=!0)},o(s){o(V),O=!1},d(s){s&&f(a),V&&V.d(s),s&&f(e),s&&f(t),S=!1,P(T)}}}function j(s,a,e){let t,r;U(s,O,(s=>e(3,t=s)));const c=x(M);return[r,s=>a=>{O.update((a=>({...a,role:s})))},()=>{e(0,r=null),c({variables:{...t,passwordConfirmation:t.password}}).then((()=>{O.set({}),S({type:"success",messages:["Account created successfully. Please login."]}),T("/login")})).catch((s=>e(0,r=s)))}]}export default class extends s{constructor(s){super(),a(this,s,j,V,e,{})}}
