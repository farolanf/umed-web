import{S as a,i as s,s as e,c as t,h as r,m as c,t as o,r as l,u as n,a as i,e as m,w as d,q as f,d as v,b as p,f as u,g as h,x as g,j as $,k as E,l as w,o as I,p as b,L as k,M,v as T,T as U,K as x,U as z,y as P,z as S}from"./client.398f38cf.js";import{A as j}from"./Alert.c9ee2509.js";function N(a){let s,e;return s=new j({props:{type:"error",title:"Error",messages:[a[0].message]}}),{c(){t(s.$$.fragment)},l(a){r(s.$$.fragment,a)},m(a,t){c(s,a,t),e=!0},p(a,e){const t={};1&e&&(t.messages=[a[0].message]),s.$set(t)},i(a){e||(o(s.$$.fragment,a),e=!0)},o(a){l(s.$$.fragment,a),e=!1},d(a){n(s,a)}}}function O(a){let s,e,t,r,c,n,T,U,z,P,S,j,O,y=a[0]&&N(a);return{c(){s=i(),y&&y.c(),e=i(),t=m("form"),r=m("div"),c=m("div"),n=m("button"),T=d("I am a Patient"),U=i(),z=m("button"),P=d("I am a Medical Service Provider"),this.h()},l(a){f('[data-svelte="svelte-vw7w1k"]',document.head).forEach(v),s=p(a),y&&y.l(a),e=p(a),t=u(a,"FORM",{});var o=h(t);r=u(o,"DIV",{class:!0});var l=h(r);c=u(l,"DIV",{class:!0});var i=h(c);n=u(i,"BUTTON",{class:!0});var m=h(n);T=g(m,"I am a Patient"),m.forEach(v),U=p(i),z=u(i,"BUTTON",{class:!0});var d=h(z);P=g(d,"I am a Medical Service Provider"),d.forEach(v),i.forEach(v),l.forEach(v),o.forEach(v),this.h()},h(){document.title="Sign Up - UMedmarket",$(n,"class","svelte-11rzs0d"),$(z,"class","svelte-11rzs0d"),$(c,"class","flex"),$(r,"class","signup-content relative svelte-11rzs0d")},m(o,l){E(o,s,l),y&&y.m(o,l),E(o,e,l),E(o,t,l),w(t,r),w(r,c),w(c,n),w(n,T),w(c,U),w(c,z),w(z,P),S=!0,j||(O=[I(n,"click",a[1]("patient")),I(z,"click",a[1]("provider")),I(t,"submit",b(a[2]))],j=!0)},p(a,[s]){a[0]?y?(y.p(a,s),1&s&&o(y,1)):(y=N(a),y.c(),o(y,1),y.m(e.parentNode,e)):y&&(x(),l(y,1,1,(()=>{y=null})),k())},i(a){S||(o(y),S=!0)},o(a){l(y),S=!1},d(a){a&&v(s),y&&y.d(a),a&&v(e),a&&v(t),j=!1,M(O)}}}function y(a,s,e){let t,r;T(a,P,(a=>e(3,t=a)));const c=U(z);return[r,a=>s=>{P.update((s=>({...s,role:a})))},()=>{e(0,r=null),c({variables:{...t,passwordConfirmation:t.password}}).then((()=>{S("/login")})).catch((a=>e(0,r=a)))}]}export default class extends a{constructor(a){super(),s(this,a,y,O,e,{})}}
