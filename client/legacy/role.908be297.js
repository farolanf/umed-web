import{_ as t,a as e,b as r,c as n,i as a,d as s,S as c,s as o,f as i,g as u,m as f,t as l,j as p,k as v,p as m,l as d,o as h,q as b,e as g,w as y,r as O,u as P,v as j,x as w,z as D,A as E,J as $,P as R,h as S,T as k,a8 as I,D as T,U,a3 as x,R as z,ah as M,ab as N,ai as A,ac as B}from"./client.34e095e3.js";import{_ as C}from"./defineProperty.b786bad4.js";function V(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,s=e(t);if(n){var c=e(this).constructor;a=Reflect.construct(s,arguments,c)}else a=s.apply(this,arguments);return r(this,a)}}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){C(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t){var e,r;return e=new x({props:{type:"error",title:"Error",messages:[t[0].message],rootClass:"absolute top-0"}}),{c:function(){i(e.$$.fragment)},l:function(t){u(e.$$.fragment,t)},m:function(t,n){f(e,t,n),r=!0},p:function(t,r){var n={};1&r&&(n.messages=[t[0].message]),e.$set(n)},i:function(t){r||(l(e.$$.fragment,t),r=!0)},o:function(t){p(e.$$.fragment,t),r=!1},d:function(t){v(e,t)}}}function J(t){var e,r,n,a,s,c,o,i,u,f,v,T,U,x=t[0]&&F(t);return{c:function(){e=m(),x&&x.c(),r=m(),n=d("div"),a=d("form"),s=d("div"),c=d("button"),o=h("I am a Patient"),i=m(),u=d("button"),f=h("I am a Medical Service Provider"),this.h()},l:function(t){b('[data-svelte="svelte-vw7w1k"]',document.head).forEach(g),e=y(t),x&&x.l(t),r=y(t),n=O(t,"DIV",{class:!0});var l=P(n);a=O(l,"FORM",{});var p=P(a);s=O(p,"DIV",{class:!0});var v=P(s);c=O(v,"BUTTON",{class:!0});var m=P(c);o=j(m,"I am a Patient"),m.forEach(g),i=y(v),u=O(v,"BUTTON",{class:!0});var d=P(u);f=j(d,"I am a Medical Service Provider"),d.forEach(g),v.forEach(g),p.forEach(g),l.forEach(g),this.h()},h:function(){document.title="Sign Up - UMedmarket",w(c,"class","svelte-11rzs0d"),w(u,"class","svelte-11rzs0d"),w(s,"class","flex"),w(n,"class","signup-content relative svelte-11rzs0d")},m:function(l,p){D(l,e,p),x&&x.m(l,p),D(l,r,p),D(l,n,p),E(n,a),E(a,s),E(s,c),E(c,o),E(s,i),E(s,u),E(u,f),v=!0,T||(U=[$(c,"click",t[1]("patient")),$(u,"click",t[1]("provider")),$(a,"submit",R(t[2]))],T=!0)},p:function(t,e){var n=S(e,1)[0];t[0]?x?(x.p(t,n),1&n&&l(x,1)):((x=F(t)).c(),l(x,1),x.m(r.parentNode,r)):x&&(z(),p(x,1,1,(function(){x=null})),k())},i:function(t){v||(l(x),v=!0)},o:function(t){p(x),v=!1},d:function(t){t&&g(e),x&&x.d(t),t&&g(r),t&&g(n),T=!1,I(U)}}}function G(t,e,r){var n,a;T(t,N,(function(t){return r(3,n=t)}));var s=U(M);return[a,function(t){return function(e){N.update((function(e){return q(q({},e),{},{role:t})}))}},function(){r(0,a=null),s({variables:q(q({},n),{},{passwordConfirmation:n.password})}).then((function(){N.set({}),A({type:"success",messages:["Account created successfully. Please login."]}),B("/login")})).catch((function(t){return r(0,a=t)}))}]}var H=function(e){t(i,c);var r=V(i);function i(t){var e;return n(this,i),e=r.call(this),a(s(e),t,G,J,o,{}),e}return i}();export default H;
