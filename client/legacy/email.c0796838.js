import{_ as t,a as n,b as e,c as r,i as a,d as s,S as o,s as i,x as c,y as u,A as f,C as l,D as p,E as d,J as m,f as h,a1 as v,k as $,K as y,g as b,h as g,z as O,n as j,o as w,F as P,aa as k,p as E,M as x,W as D,U as R,al as S,aj as T,a0 as I,t as U,j as z,L as M,O as B,P as C,ak as F}from"./client.45ce2047.js";import{l as N}from"./lodash.9ad7a920.js";import{I as _}from"./Input.7869730a.js";import{_ as q}from"./defineProperty.b786bad4.js";function A(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,s=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(s,arguments,o)}else a=s.apply(this,arguments);return e(this,a)}}function J(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function K(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?J(Object(e),!0).forEach((function(n){q(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):J(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function L(t){var n,e;return n=new I({props:{type:"error",title:"Error",messages:[t[2]],rootClass:"absolute top-0"}}),{c:function(){c(n.$$.fragment)},l:function(t){u(n.$$.fragment,t)},m:function(t,r){f(n,t,r),e=!0},p:function(t,e){var r={};4&e&&(r.messages=[t[2]]),n.$set(r)},i:function(t){e||(l(n.$$.fragment,t),e=!0)},o:function(t){p(n.$$.fragment,t),e=!1},d:function(t){d(n,t)}}}function V(t){var n,e,r,a;return{c:function(){n=h("button"),e=h("i"),r=U("forward"),this.h()},l:function(t){n=b(t,"BUTTON",{slot:!0,class:!0,disabled:!0});var a=g(n);e=b(a,"I",{class:!0});var s=g(e);r=z(s,"forward"),s.forEach($),a.forEach($),this.h()},h:function(){O(e,"class","material-icons-outlined"),O(n,"slot","button"),O(n,"class","w-full h-full flex justify-center items-center svelte-16hbay0"),n.disabled=a=!t[1]},m:function(t,a){j(t,n,a),w(n,e),w(e,r)},p:function(t,e){2&e&&a!==(a=!t[1])&&(n.disabled=a)},d:function(t){t&&$(n)}}}function W(t){var n,e,r,a,s,o,i,D,R=t[2]&&L(t);return(s=new _({props:{id:"email",type:"email",placeholder:"type your email address",value:t[0].email,autofocus:!0,required:!0,label:"Your email address",size:"xl",hasRightButton:!0,$$slots:{button:[V]},$$scope:{ctx:t}}})).$on("input",t[4]),{c:function(){n=m(),R&&R.c(),e=m(),r=h("div"),a=h("form"),c(s.$$.fragment),this.h()},l:function(t){v('[data-svelte="svelte-1om3z61"]',document.head).forEach($),n=y(t),R&&R.l(t),e=y(t),r=b(t,"DIV",{class:!0});var o=g(r);a=b(o,"FORM",{});var i=g(a);u(s.$$.fragment,i),i.forEach($),o.forEach($),this.h()},h:function(){document.title="Sign Up - UMedmarket",O(r,"class","signup-content")},m:function(c,u){j(c,n,u),R&&R.m(c,u),j(c,e,u),j(c,r,u),w(r,a),f(s,a,null),o=!0,i||(D=P(a,"submit",k(t[5])),i=!0)},p:function(t,n){var r=E(n,1)[0];t[2]?R?(R.p(t,r),4&r&&l(R,1)):((R=L(t)).c(),l(R,1),R.m(e.parentNode,e)):R&&(M(),p(R,1,1,(function(){R=null})),x());var a={};1&r&&(a.value=t[0].email),258&r&&(a.$$scope={dirty:r,ctx:t}),s.$set(a)},i:function(t){o||(l(R),l(s.$$.fragment,t),o=!0)},o:function(t){p(R),p(s.$$.fragment,t),o=!1},d:function(t){t&&$(n),R&&R.d(t),t&&$(e),t&&$(r),d(s),i=!1,D()}}}function Y(t,n,e){var r,a;D(t,T,(function(t){return e(0,r=t)}));var s=R(S,{variables:{email:r.email}});D(t,s,(function(t){return e(6,a=t)}));var o,i,c=N.debounce((function(t){T.update((function(n){return K(K({},n),{},{email:t})}))}),300),u=function(){var t=B(C.mark((function t(n){return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(1,o=!1),c(n.target.value);case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=B(C.mark((function t(){return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o&&F("/signup/password");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t.$$.update=function(){65&t.$$.dirty&&s.refetch({email:r.email}).then((function(t){return e(1,o=!a.data.emailTaken),t})),64&t.$$.dirty&&e(1,o=!a.loading&&!a.data.emailTaken),64&t.$$.dirty&&e(2,i=N.get(a,"data.emailTaken")?"Email is already taken":null)},[r,o,i,s,u,f]}var G=function(n){t(c,o);var e=A(c);function c(t){var n;return r(this,c),n=e.call(this),a(s(n),t,Y,W,i,{}),n}return c}();export default G;
