import{S as a,i as s,s as e,q as t,r,v as c,x as l,y as o,z as n,E as i,e as d,t as m,V as u,f as v,F as f,c as p,b as h,d as g,u as $,j as E,k as b,A as I,a1 as k,H as w,I as P,O as U,a2 as x,U as y,G as z,ad as M,aa as O,ae as S,ab as T}from"./client.859ac31a.js";function N(a){let s,e;return s=new y({props:{type:"error",title:"Error",messages:[a[0].message],rootClass:"absolute top-0"}}),{c(){t(s.$$.fragment)},l(a){r(s.$$.fragment,a)},m(a,t){c(s,a,t),e=!0},p(a,e){const t={};1&e&&(t.messages=[a[0].message]),s.$set(t)},i(a){e||(l(s.$$.fragment,a),e=!0)},o(a){o(s.$$.fragment,a),e=!1},d(a){n(s,a)}}}function V(a){let s,e,t,r,c,n,U,x,y,M,O,S,T,V=a[0]&&N(a);return{c(){s=i(),V&&V.c(),e=i(),t=d("div"),r=d("form"),c=d("div"),n=d("button"),U=m("I am a Patient"),x=i(),y=d("button"),M=m("I am a Medical Service Provider"),this.h()},l(a){u('[data-svelte="svelte-vw7w1k"]',document.head).forEach(v),s=f(a),V&&V.l(a),e=f(a),t=p(a,"DIV",{class:!0});var l=h(t);r=p(l,"FORM",{});var o=h(r);c=p(o,"DIV",{class:!0});var i=h(c);n=p(i,"BUTTON",{class:!0});var d=h(n);U=g(d,"I am a Patient"),d.forEach(v),x=f(i),y=p(i,"BUTTON",{class:!0});var m=h(y);M=g(m,"I am a Medical Service Provider"),m.forEach(v),i.forEach(v),o.forEach(v),l.forEach(v),this.h()},h(){document.title="Sign Up - UMedmarket",$(n,"class","svelte-11rzs0d"),$(y,"class","svelte-11rzs0d"),$(c,"class","flex"),$(t,"class","signup-content relative svelte-11rzs0d")},m(l,o){E(l,s,o),V&&V.m(l,o),E(l,e,o),E(l,t,o),b(t,r),b(r,c),b(c,n),b(n,U),b(c,x),b(c,y),b(y,M),O=!0,S||(T=[I(n,"click",a[1]("patient")),I(y,"click",a[1]("provider")),I(r,"submit",k(a[2]))],S=!0)},p(a,[s]){a[0]?V?(V.p(a,s),1&s&&l(V,1)):(V=N(a),V.c(),l(V,1),V.m(e.parentNode,e)):V&&(z(),o(V,1,1,(()=>{V=null})),w())},i(a){O||(l(V),O=!0)},o(a){o(V),O=!1},d(a){a&&v(s),V&&V.d(a),a&&v(e),a&&v(t),S=!1,P(T)}}}function j(a,s,e){let t,r;U(a,O,(a=>e(3,t=a)));const c=x(M);return[r,a=>s=>{O.update((s=>({...s,role:a})))},()=>{e(0,r=null),c({variables:{...t,passwordConfirmation:t.password}}).then((()=>{O.set({}),S({type:"success",messages:["Account created successfully. Please login."]}),T("/login")})).catch((a=>e(0,r=a)))}]}export default class extends a{constructor(a){super(),s(this,a,j,V,e,{})}}
