import{S as s,i as a,s as e,c as t,a as r,m as c,t as l,b as o,e as n,h as i,f as d,g as m,q as u,d as v,o as f,j as p,k as h,l as g,p as $,u as E,v as b,E as I,K as k,N as w,a0 as M,y as P,O as y,Z as N,M as O,a8 as S,a3 as T,a9 as U,a4 as x}from"./client.79bce577.js";function z(s){let a,e;return a=new N({props:{type:"error",title:"Error",messages:[s[0].message],rootClass:"absolute top-0"}}),{c(){t(a.$$.fragment)},l(s){r(a.$$.fragment,s)},m(s,t){c(a,s,t),e=!0},p(s,e){const t={};1&e&&(t.messages=[s[0].message]),a.$set(t)},i(s){e||(l(a.$$.fragment,s),e=!0)},o(s){o(a.$$.fragment,s),e=!1},d(s){n(a,s)}}}function j(s){let a,e,t,r,c,n,P,y,N,S,T,U,x,j=s[0]&&z(s);return{c(){a=i(),j&&j.c(),e=i(),t=d("div"),r=d("form"),c=d("div"),n=d("button"),P=m("I am a Patient"),y=i(),N=d("button"),S=m("I am a Medical Service Provider"),this.h()},l(s){u('[data-svelte="svelte-vw7w1k"]',document.head).forEach(v),a=f(s),j&&j.l(s),e=f(s),t=p(s,"DIV",{class:!0});var l=h(t);r=p(l,"FORM",{});var o=h(r);c=p(o,"DIV",{class:!0});var i=h(c);n=p(i,"BUTTON",{class:!0});var d=h(n);P=g(d,"I am a Patient"),d.forEach(v),y=f(i),N=p(i,"BUTTON",{class:!0});var m=h(N);S=g(m,"I am a Medical Service Provider"),m.forEach(v),i.forEach(v),o.forEach(v),l.forEach(v),this.h()},h(){document.title="Sign Up - UMedmarket",$(n,"class","svelte-11rzs0d"),$(N,"class","svelte-11rzs0d"),$(c,"class","flex"),$(t,"class","signup-content relative svelte-11rzs0d")},m(l,o){E(l,a,o),j&&j.m(l,o),E(l,e,o),E(l,t,o),b(t,r),b(r,c),b(c,n),b(n,P),b(c,y),b(c,N),b(N,S),T=!0,U||(x=[I(n,"click",s[1]("patient")),I(N,"click",s[1]("provider")),I(r,"submit",k(s[2]))],U=!0)},p(s,[a]){s[0]?j?(j.p(s,a),1&a&&l(j,1)):(j=z(s),j.c(),l(j,1),j.m(e.parentNode,e)):j&&(O(),o(j,1,1,(()=>{j=null})),w())},i(s){T||(l(j),T=!0)},o(s){o(j),T=!1},d(s){s&&v(a),j&&j.d(s),s&&v(e),s&&v(t),U=!1,M(x)}}}function B(s,a,e){let t,r;P(s,T,(s=>e(3,t=s)));const c=y(S);return[r,s=>a=>{T.update((a=>({...a,role:s})))},()=>{e(0,r=null),c({variables:{...t,passwordConfirmation:t.password}}).then((()=>{T.set({}),U({type:"success",messages:["Account created successfully. Please login."]}),x("/login")})).catch((s=>e(0,r=s)))}]}export default class extends s{constructor(s){super(),a(this,s,B,j,e,{})}}
